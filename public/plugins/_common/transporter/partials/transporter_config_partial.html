<div layout="column">


    <div layout="row" flex ng-controller="extAdminFunctionsController">

        <md-input-container  class="md-block" flex="50">
            <label for="from-{{value.data.name}}" >from</label>
            <md-select id="from-{{value.data.name}}" ng-model="value.data.from"
                       ng-change="value.needsSave = true">
                <md-option ng-value="x.name" ng-repeat="x in connections">{{ x.name }}</md-option>
            </md-select>
            <md-tooltip >Select the source connection, which will produce the data.</md-tooltip>
        </md-input-container>

        <md-input-container  class="md-block" flex="50">
            <label for="to-{{value.data.to}}" >to</label>
            <md-select id="to-{{value.data.to}}" ng-model="value.data.to"
                       ng-change="value.needsSave = true">
                <md-option ng-value="x.name" ng-repeat="x in connections">{{ x.name }}</md-option>
            </md-select>
            <md-tooltip >Select the destination connection, which will store the data.</md-tooltip>
        </md-input-container>

    </div>


    <div flex layout="row"  layout-align="start center" ng-if="value.isNew === false">
        <md-input-container  class="md-block" flex="50">
            <label for="name-{{value.data.token}}" >authentication token</label>
            <input ng-readonly="true" type="text" id="name-{{value.data.token}}" ng-model="token"
                   ng-change="value.needsSave = true">
            <md-tooltip >The authentication token that the webhook of the 'from' connection will use to authenticate itself on this site when sending data that needs to be transported..</md-tooltip>
            </input>
        </md-input-container>
        <md-button class="md-primary"
                   ng-click="refresh_token(value)">
            refresh token
        </md-button>
    </div>




    <md-input-container  class="md-block" flex="50">
        <label for="extra-{{value.data.extra}}" >extra</label>
        <!--note: json-text is self made-->
        <textarea type="text"
                  json-text
                  id="extra-{{value.data.extra}}"
                  ng-model="value.data.extra"
                  ng-change="value.needsSave = true"
                  flex
                  rows="5"></textarea>

        <md-tooltip >Extra configuration data that should be passed to the from part of the resource (ex: fields for particle.oi)</md-tooltip>
        </input>
    </md-input-container>



</div>

