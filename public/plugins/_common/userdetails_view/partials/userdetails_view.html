<div layout="column">

    <md-content class="dbb_admin_page" layout-fill>
        <form ng-submit="updateDetails(user)" >


            <md-card>
                <md-card-title>
                    <md-card-title-text>
                        <span class="md-headline">Update your user details</span>
                    </md-card-title-text>
                </md-card-title>
                <md-card-content>


                    <md-input-container class="md-block">
                        <label for="username" >user name</label>
                        <input type="text" id="username" ng-model="user.name" ng-change="detailsNeedsSave = true"></input>
                        <md-tooltip >Your user name</md-tooltip>
                    </md-input-container>


                    <md-input-container class="md-block">
                        <label for="email" >email address</label>
                        <input type="email" id="email" class="form-control" ng-model="user.email" ng-change="detailsNeedsSave = true"></input>
                        <md-tooltip >Your email address</md-tooltip>
                    </md-input-container>


                    <p>You are a member of the following groups: </p>
                    <md-chips ng-model="user.groups"
                              readonly="true">
                        <md-chip-template>
                            <span>
                              <strong>{{$chip.name}}</strong>
                            </span>
                        </md-chip-template>
                    </md-chips>

                </md-card-content>
                <md-card-actions layout="row" layout-align="end center">

                    <md-button type="submit"
                               id="updateDetailsBtn"
                               class="md-primary"
                               aria-label="update details"
                               ng-disabled="user.$invalid()"
                               ng-if="detailsNeedsSave === true">
                        Save
                    </md-button>

                </md-card-actions>
            </md-card>


        </form>

        <md-divider style="margin-top: 10px; margin-bottom: 10px"/>


        <form ng-submit="changePwd(userPwd)" >
            <md-card>
                <md-card-title>
                    <md-card-title-text>
                        <span class="md-headline">Change your password</span>
                    </md-card-title-text>
                </md-card-title>
                <md-card-content>


                    <md-input-container class="md-block">
                        <label for="siteTitle" >current password</label>
                        <input type="password" id="curpwd" ng-model="userPwd.curPwd" ></input>
                        <md-tooltip >Your current password</md-tooltip>
                    </md-input-container>

                    <md-input-container class="md-block">
                        <label for="siteTitle" >new password</label>
                        <input type="password" id="newpwd" ng-model="userPwd.newPwd" ng-change="pwdNeedsSave = true"></input>
                        <md-tooltip >Your new password</md-tooltip>
                    </md-input-container>

                    <md-input-container class="md-block">
                        <label for="siteTitle" >re-enter new password</label>
                        <input type="password" id="newpwd2" ng-model="userPwd.newPwd2" ng-change="pwdNeedsSave = true"></input>
                        <md-tooltip >Re-enter your new password</md-tooltip>
                    </md-input-container>

                </md-card-content>
                <md-card-actions layout="row" layout-align="end center">
                    <md-button type="submit"
                               id="ChangPwdBtn"
                               class="md-primary"
                               aria-label="change password"
                               ng-disabled="userPwd.$invalid()"
                               ng-if="pwdNeedsSave === true">
                        Save
                    </md-button>

                </md-card-actions>
            </md-card>

        </form>

    </md-content>

</div>


