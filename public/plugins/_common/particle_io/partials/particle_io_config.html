<div flex layout="column">

    <div flex layout="row"  layout-align="start center"
         ng-controller="extAdminConnectionsController">
        <md-input-container flex  >
            <label >particle.io token </label>
            <input type="text"
                   ng-model="value.content.token"
                   ng-change="value.needsSave = true"
                   class="form-control"
                   flex ></input>
            <md-tooltip >The access token for particle.io cloud</md-tooltip>
        </md-input-container>

        <md-progress-circular md-mode="indeterminate" ng-if="isLoading"></md-progress-circular>

        <md-button class="md-primary"
                   class="form-control"
                   ng-click="get_particle_io_access_token(value, $event)">
            get token
        </md-button>
    </div>

    <div flex layout="row"  layout-align="start center" ng-if="value.content.authToken">
        <md-input-container  flex>
            <label >authentication token</label>
            <input ng-readonly="true" type="text"
                   ng-model="value.content.authToken"
                   ng-change="value.needsSave = true">
            <md-tooltip >The authentication token used by the webhook registered at particle.io to authenticate calls from particle to your application.</md-tooltip>
            </input>
        </md-input-container>
        <md-button class="md-primary"
                   ng-click="$parent.refresh_token(value, $event)">
            refresh token
        </md-button>
    </div>
</div>